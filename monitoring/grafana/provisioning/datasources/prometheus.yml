# ============================================================================
# Grafana Datasource Provisioning - Prometheus
# ============================================================================
#
# This configuration automatically adds Prometheus as a datasource when
# Grafana starts up, eliminating the need for manual configuration.
#
# Reference: https://grafana.com/docs/grafana/latest/administration/provisioning/#datasources
# ============================================================================

apiVersion: 1

# List of datasources to insert/update depending on what's available in the database
datasources:
  # Prometheus datasource for Query Gateway metrics
  - name: Prometheus
    uid: prometheus
    type: prometheus
    access: proxy
    url: http://query-gateway-prometheus:9090
    isDefault: true
    editable: true
    jsonData:
      # HTTP method to use for queries
      httpMethod: POST

      # Timeout for queries (in seconds)
      queryTimeout: 60s

      # Enable Prometheus exemplars
      exemplarTraceIdDestinations: []

    # Version number (increment to force re-provisioning)
    version: 1
